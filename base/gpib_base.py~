import gpib

class GpibDevice:
	"""Generic lowelevel GPIB device for the Budker-phys gpib python library"""
	DEFAULT_READ_LENGTH=1000
	def __init__(self, name):
		self.device = gpib.find(name)
		self.read_length = self.DEFAULT_READ_LENGTH
	def set_read_length(self, length):
		"""Sets the read_length for this GPIB device"""
		self.read_length = length
	def write(self, command):
		"""Write a lowlevel gpib command"""
		gpib.write(self.device, command)
	def read(self, length):
		"""Read from the gpib device, number of characters, defined by read_length"""
		return gpib.read(self.device, length)


